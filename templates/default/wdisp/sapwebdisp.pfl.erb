# Profile generated by sapwebdisp bootstrap

# unique instance number
SAPSYSTEM = <%= @instance %>
SAPSYSTEMNAME = <%= @sid %>
_HTTP_PORT = <%= @xs_http_port %>
_HTTPS_PORT = <%= @xs_https_port %>
_LOCAL_HOST_NAME = <%= @hostname %>

################################
#_HTTP_PORT = 80$(SAPSYSTEM)
#_HTTPS_PORT = 43$(SAPSYSTEM)
#_LOCAL_HOST_NAME = 
################################

# add default directory settings
DIR_EXECUTABLE = exe

DIR_INSTANCE = $(_LOCAL_HOST_NAME)

icm/security_log = LOGFILE=$(DIR_INSTANCE)/trace/dev_icm_sec,MAXSIZEKB=500

# Accessibility of Message Servers
rdisp/mshost = 
ms/http_port = 

# SAP Web Dispatcher Parameter
wdisp/auto_refresh = 25
wdisp/max_servers = 100

wdisp/shm_attach_mode = 6

# configuration for default scenario (medium size)
icm/max_conn      = 500
icm/max_sockets   = 1024
icm/req_queue_len = 500
icm/min_threads   = 10
icm/max_threads   = 100
mpi/total_size_MB = 80

#maximum number of concurrent connections to one server
wdisp/HTTP/max_pooled_con = 200
wdisp/HTTP/min_pooled_con = 0

wdisp/HTTPS/max_pooled_con = 200
wdisp/HTTPS/min_pooled_con = 0

wdisp/HTTP/use_pool_for_new_conn = 1

# SAP Web Dispatcher Ports
#icm/server_port_0 = PROT=HTTP,PORT=$(_HTTP_PORT),PROCTIMEOUT=600
#icm/server_port_1 = PROT=HTTPS,PORT=$(_HTTPS_PORT),PROCTIMEOUT=600
icm/server_port_0 = PROT=HTTP,PORT=$(_HTTP_PORT),PROCTIMEOUT=600,EXTBIND=1
icm/server_port_1 = PROT=HTTPS,PORT=$(_HTTPS_PORT),PROCTIMEOUT=600,EXTBIND=1
icm/server_port_2 = PORT=0, PROT=WEBSOCKET, TIMEOUT=-1
icm/server_port_3 = PORT=0, PROT=WEBSOCKETS, TIMEOUT=-1

# SAP Web Dispatcher Web Administration
icm/HTTP/admin_0 = PREFIX=/sap/wdisp/admin,DOCROOT=$(DIR_INSTANCE)/wdisp/admin,AUTHFILE=$(DIR_INSTANCE)/wdisp/icmauth.txt

icm/HTTP/hdb_0=TRUE
wdisp/add_client_protocol_header = 1
wdisp/system_0 = SID=$(SAPSYSTEMNAME), EXTSRV=http://localhost:3$(SAPSYSTEM)08, SRCURL=/

#icm/sleep_after_startup = 1

#icm/HTTP/server_cache_0 = PREFIX=/, CACHEDIR=$(DIR_INSTANCE)/wdisp/cache
DIR_SECURITY_LIB = <%= @installpath %>/<%= @sid %>/SYS/global/security/lib
wdisp/ssl_encrypt = 0
ssl/ssl_lib=<%= @installpath %>/<%= @sid %>/global/security/lib/libsapcrypto.so
ssl/server_pse = sapsrv.pse
icm/HTTPS/verify_client=1
icm/HTTPS/forward_ccert_as_header=true

